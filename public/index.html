<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>On-Chain SetValues</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>
  <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #111; color: #fff; }
    table.dataTable tbody tr td { color: #000; }
    .azul { background: #3399ff !important; }
    .verde { background: #00cc00 !important; }
    .amarelo { background: #ffff00 !important; }
    .rosa { background: #ff00ff !important; }
  </style>
</head>
<body>
  <h2>On-Chain SetValues â€“ Destaques</h2>
  <table id="tabela" class="display" width="100%"></table>

  <script>
    const email = "valdiram.lima.2013@gmail.com";
    const url = "https://script.google.com/macros/s/AKfycbw-UhWuIv_MMxE1waokRODzZkyAJan5kbyE5n1am6iISmY41aZo_LMMchBIEUEexbiAbw/exec?email=" + email;

    $.getJSON(url, function(data) {
      $('#tabela').DataTable({
        data: data,
        columns: [
          { title: "Ranking", data: "ranking" },
          { title: "SÃ­mbolo", data: "simbolo" },
          { title: "Link", data: "link", render: d => `<a href="${d}" target="_blank">ðŸ”—</a>` },
          { title: "Score", data: "score", render: (d, _, row) => `<span class="${corScore(d)}">${d}</span>` },
          { title: "1D", data: "score_1d" },
          { title: "7D", data: "score_7d" },
          { title: "30D", data: "score_30d" },
          { title: "60D", data: "score_60d" },
          { title: "90D", data: "score_90d" },
          { title: "Score Ant.", data: "score_anterior" },
          { title: "VariaÃ§Ã£o", data: "variacao" },
          { title: "Destaque", data: "destaque" }
        ]
      });
    });

    function corScore(score) {
      score = Number(score);
      if (score >= 650) return "azul";
      if (score >= 500) return "verde";
      if (score >= 300) return "amarelo";
      if (score >= 180) return "rosa";
      return "";
    }
  </script>
</body>
</html>
